---
title: ESM
description: ESM module syntax generation (import / export / dynamic import)
icon: i-lucide-square-function
---

This module provides APIs for generating ESM imports, exports, default exports, dynamic import, and `typeof import()`, with support for import attributes.

<example module="esm"></example>

<!-- automd:jsdocs src="../../src/esm.ts" -->

## ESM

### `genDefaultExport(value, _options)`

Generate an ESM `export default` statement.

**Example:**

```js
genDefaultExport("foo");
// ~> `export default foo;`

genDefaultExport("42", { singleQuotes: true });
// ~> `export default 42;`
```

### `genDynamicImport(specifier, options)`

Generate an ESM dynamic `import()` statement.

**Example:**

```js
genDynamicImport("pkg");
// ~> `() => import("pkg")`

genDynamicImport("pkg", { wrapper: false });
// ~> `import("pkg")`

genDynamicImport("pkg", { interopDefault: true });
// ~> `() => import("pkg").then(m => m.default || m)`
```

### `genDynamicTypeImport(specifier, name, options)`

Generate an ESM type `import()` statement.

**Example:**

```js
genDynamicTypeImport("pkg");
// ~> `typeof import("pkg")`

genDynamicTypeImport("pkg", "foo");
// ~> `typeof import("pkg").foo`

genDynamicTypeImport("pkg", "foo-bar");
// ~> `typeof import("pkg")["foo-bar"]`
```

### `genExport(specifier, exports?, options)`

Generate an ESM `export` statement.

**Example:**

```js
genExport("pkg", "foo");
// ~> `export foo from "pkg";`

genExport("pkg", ["a", "b"]);
// ~> `export { a, b } from "pkg";`

genExport("pkg", { name: "*", as: "bar" });
// ~> `export * as bar from "pkg";`
```

### `genExportStar(specifier, options)`

Generate an ESM `export *` statement (re-export all).

**Example:**

```js
genExportStar("pkg");
// ~> `export * from "pkg";`

genExportStar("./utils", { singleQuotes: true });
// ~> `export * from './utils';`

genExportStar("pkg", { attributes: { type: "json" } });
// ~> `export * from "pkg" with { type: "json" };`
```

### `genExportStarAs(specifier, namespace, options)`

Generate an ESM `export * as` statement (re-export all as namespace).

**Example:**

```js
genExportStarAs("pkg", "utils");
// ~> `export * as utils from "pkg";`

genExportStarAs("./helpers", "Helpers", { singleQuotes: true });
// ~> `export * as Helpers from './helpers';`

genExportStarAs("pkg", "ns", { attributes: { type: "json" } });
// ~> `export * as ns from "pkg" with { type: "json" };`
```

### `genImport(specifier, imports?, options)`

Generate an ESM `import` statement.

**Example:**

```js
genImport("pkg", "foo");
// ~> `import foo from "pkg";`

genImport("pkg", ["foo"]);
// ~> `import { foo } from "pkg";`

genImport("pkg", ["a", "b"]);
// ~> `import { a, b } from "pkg`;

genImport("pkg", [{ name: "default", as: "bar" }]);
// ~> `import { default as bar } from "pkg`;

genImport("pkg", [{ name: "foo", as: "bar" }]);
// ~> `import { foo as bar } from "pkg`;

genImport("pkg", "foo", { attributes: { type: "json" } });
// ~> `import foo from "pkg" with { type: "json" };
```

### `genTypeImport(specifier, imports, options)`

Generate an ESM `import type` statement.

**Example:**

```js
genTypeImport("@nuxt/utils", ["test"]);
// ~> `import type { test } from "@nuxt/utils";`

genTypeImport("@nuxt/utils", [{ name: "test", as: "value" }]);
// ~> `import type { test as value } from "@nuxt/utils";`
```

<!-- /automd -->
