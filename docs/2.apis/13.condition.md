---
title: condition
description: 条件与分支生成（genIf、genElseIf、genElse、genTernary、genPrefixedBlock）
---

本模块提供生成 `if` / `else if` / `else` 以及三元表达式、通用前缀块（如 `while`）的 API。

<Example module="condition" />

<!-- automd:jsdocs src="../../src/condition.ts" -->

## Typescript

### `genElse(statements, options, indent)`

Generate `else { statements }` or `else statement`.

**Example:**

```js
genElse(["return 0;"]);
// ~> `else { return 0; }`

genElse("fallback();");
// ~> `else { fallback(); }`

genElse("doIt();", { bracket: false });
// ~> `else doIt();`
```

### `genElseIf(cond, statements, options, indent)`

Generate `else if (cond) { statements }` or `else if (cond) statement`.

**Example:**

```js
genElseIf("x < 0", "return -x;");
// ~> `else if (x < 0) { return -x; }`

genElseIf("ok", "doIt();", { bracket: false });
// ~> `else if (ok) doIt();`
```

### `genIf(cond, statements, options, indent)`

Generate `if (cond) { statements }` or `if (cond) statement`.

**Example:**

```js
genIf("x > 0", "return x;");
// ~> `if (x > 0) { return x; }`

genIf("ok", ["doA();", "doB();"]);
// ~> `if (ok) { doA(); doB(); }`

genIf("x", "console.log(x);", { bracket: false });
// ~> `if (x) console.log(x);`
```

### `genPrefixedBlock(prefix, statements, options, indent)`

Low-level helper: generate `prefix { statements }` or `prefix statement`.

**Example:**

```js
genPrefixedBlock("if (ok)", "return true;");
// ~> `if (ok) { return true; }`

genPrefixedBlock("while (running)", ["step();", "check();"]);
// ~> `while (running) { step(); check(); }`

genPrefixedBlock("for (;;)", "break;", { bracket: false });
// ~> `for (;;) break;`
```

### `genTernary(cond, whenTrue, whenFalse)`

Generate ternary expression `cond ? whenTrue : whenFalse`.

**Example:**

```js
genTernary("x > 0", "x", "-x");
// ~> `x > 0 ? x : -x`

genTernary("ok", "'yes'", "'no'");
// ~> `ok ? 'yes' : 'no'`
```

<!-- /automd -->