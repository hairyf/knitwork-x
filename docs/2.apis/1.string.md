---
title: string
description: 字符串与字面量生成（genString、escapeString、genSafeVariableName、genRegExp、genTemplateLiteral）
---

本模块提供生成 JavaScript/TypeScript 字符串字面量、转义、安全变量名、正则字面量以及模板字符串的 API。

<Example module="string" />

<!-- automd:jsdocs src="../../src/string.ts" -->

## String

### `escapeString(id)`

Escape a string for use in a javascript string.

**Example:**

```js
escapeString("foo'bar");
// ~> `foo\'bar`

escapeString("foo\nbar");
// ~> `foo\nbar`
```

### `genRegExp(pattern, flags?)`

Generate regex literal from pattern and flags.

**Example:**

```js
genRegExp("foo");
// ~> `/foo/`

genRegExp("foo", "gi");
// ~> `/foo/gi`

genRegExp("foo\\d+");
// ~> `/foo\d+/`
```

### `genSafeVariableName(name)`

Generate a safe javascript variable name.

**Example:**

```js
genSafeVariableName("valid_import");
// ~> `valid_import`

genSafeVariableName("for");
// ~> `_for`

genSafeVariableName("with space");
// ~> `with_32space`
```

### `genString(input, options)`

Generate a string with double or single quotes and handle escapes.

**Example:**

```js
genString("foo");
// ~> `"foo"`

genString("foo", { singleQuotes: true });
// ~> `'foo'`

genString("foo\nbar");
// ~> `"foo\nbar"`
```

### `genTemplateLiteral(parts)`

Generate runtime template literal: `` `hello ${x}` `` (value, not type).

**Example:**

```js
genTemplateLiteral(["hello ", "x"]);
// ~> `` `hello ${x}` ``

genTemplateLiteral(["prefix", "expr", "suffix"]);
// ~> `` `prefix${expr}suffix` ``

genTemplateLiteral(["", "value"]);
// ~> `` `${value}` ``

genTemplateLiteral(["text"]);
// ~> `` `text` ``
```

<!-- /automd -->
